=== Calico Node Startup Time Measurement ===
Namespace: calico-system
Label Selector: k8s-app=calico-node
Target Node: glen-bz-p4b7-kadm-node-3.us-central1-a.c.tigera-dev.internal
Acceptable Startup Time: 60s

=== Collecting Cluster Information ===
Kubernetes Version: v1.33.5
Provisioner: null

=== Calico Configuration ===
Dataplane Mode: Nftables
Encapsulation Type: IPIP
BGP Enabled: Enabled
IP Pool CIDR: 192.168.0.0/16

=== Cluster Scale Metrics ===
Total NetworkPolicies: 1200
Total Services: 1033
Total Nodes: 9

Pods per Node:
glen-bz-p4b7-kadm-infra-0.us-central1-a.c.tigera-dev.internal: 16 pods
glen-bz-p4b7-kadm-infra-1.us-central1-a.c.tigera-dev.internal: 8 pods
glen-bz-p4b7-kadm-infra-2.us-central1-a.c.tigera-dev.internal: 13 pods
glen-bz-p4b7-kadm-ms.us-central1-a.c.tigera-dev.internal: 25 pods
glen-bz-p4b7-kadm-node-0.us-central1-a.c.tigera-dev.internal: 607 pods
glen-bz-p4b7-kadm-node-1.us-central1-a.c.tigera-dev.internal: 607 pods
glen-bz-p4b7-kadm-node-2.us-central1-a.c.tigera-dev.internal: 606 pods
glen-bz-p4b7-kadm-node-3.us-central1-a.c.tigera-dev.internal: 608 pods
glen-bz-p4b7-kadm-node-4.us-central1-a.c.tigera-dev.internal: 607 pods

Pods on target node (glen-bz-p4b7-kadm-node-3.us-central1-a.c.tigera-dev.internal): 608

=== Restarting Load Generator ===
Found load generator pod: loadgenerator-59d7b7cc48-6vqjz
Deleting load generator pod to clear stats...
pod "loadgenerator-59d7b7cc48-6vqjz" deleted from default namespace
Waiting for new load generator pod...
pod/loadgenerator-59d7b7cc48-2tvfr condition met
New load generator pod ready: loadgenerator-59d7b7cc48-2tvfr

=== Starting Calico Node Restart Test ===
Found pod: calico-node-rjssg on node glen-bz-p4b7-kadm-node-3.us-central1-a.c.tigera-dev.internal
Deleting pod calico-node-rjssg...
pod "calico-node-rjssg" deleted from calico-system namespace
Waiting for new pod on node glen-bz-p4b7-kadm-node-3.us-central1-a.c.tigera-dev.internal...
New pod detected: calico-node-v9sxw
Pod created at: 2025-10-22T18:27:57Z (epoch: 1761157677)
Waiting for pod calico-node-v9sxw to become Ready...
pod/calico-node-v9sxw condition met

========================================
DaemonSet pod calico-node-v9sxw became Ready in 36 seconds.
Calico-node startup time: 36s
========================================

=== Waiting for Load Generator Statistics ===
Waiting 30 seconds for load generator to accumulate stats...

=== Load Generator Pod-to-Pod Latency Statistics ===
Defaulted container "main" out of: main, frontend-check (init)
Type     Name                                                                          # reqs      # fails |    Avg     Min     Max    Med |   req/s  failures/s
--------|----------------------------------------------------------------------------|-------|-------------|-------|-------|-------|-------|--------|-----------
GET      /                                                                                 97     0(0.00%) |     12       9      21     13 |    1.60        0.00
GET      /cart                                                                             75     0(0.00%) |      9       7      31      9 |    2.10        0.00
POST     /cart                                                                             78     0(0.00%) |     13      10      54     12 |    1.90        0.00
POST     /cart/checkout                                                                    20     0(0.00%) |     69      27     157     71 |    0.70        0.00
GET      /product/0PUK6V6EV0                                                               31     0(0.00%) |      9       7      11      9 |    0.90        0.00
GET      /product/1YMWWN1N4O                                                               39     0(0.00%) |     10       8      61     10 |    1.30        0.00
GET      /product/2ZYFJ3GM2N                                                               42     0(0.00%) |      9       7      11     10 |    0.80        0.00
GET      /product/66VCHSJNUP                                                               40     0(0.00%) |      9       8      11     10 |    1.10        0.00
GET      /product/6E92ZMYYFZ                                                               33     0(0.00%) |      9       7      10     10 |    1.00        0.00
GET      /product/9SIQT8TOJO                                                               34     0(0.00%) |     10       8      52     10 |    1.00        0.00
GET      /product/L9ECAV7KIM                                                               24     0(0.00%) |      9       8      10     10 |    0.10        0.00
GET      /product/LS4PSXUNUM                                                               35     0(0.00%) |      9       7      13     10 |    0.60        0.00
GET      /product/OLJCESPC7Z                                                               34     0(0.00%) |     11       8      48     10 |    1.00        0.00
POST     /setCurrency                                                                      45     0(0.00%) |     14      10      61     13 |    0.90        0.00
--------|----------------------------------------------------------------------------|-------|-------------|-------|-------|-------|-------|--------|-----------
         Aggregated                                                                       627     0(0.00%) |     12       7     157     10 |   15.00        0.00

Type     Name                                                                          # reqs      # fails |    Avg     Min     Max    Med |   req/s  failures/s
--------|----------------------------------------------------------------------------|-------|-------------|-------|-------|-------|-------|--------|-----------
GET      /                                                                                 99     0(0.00%) |     12       9      21     13 |    1.60        0.00
GET      /cart                                                                             83     0(0.00%) |      9       7      31      9 |    2.30        0.00
POST     /cart                                                                             79     0(0.00%) |     13      10      54     12 |    1.30        0.00
POST     /cart/checkout                                                                    21     0(0.00%) |     71      27     157     73 |    0.50        0.00
GET      /product/0PUK6V6EV0                                                               31     0(0.00%) |      9       7      11      9 |    0.70        0.00
GET      /product/1YMWWN1N4O                                                               40     0(0.00%) |     10       8      61     10 |    0.80        0.00
GET      /product/2ZYFJ3GM2N                                                               43     0(0.00%) |      9       7      11     10 |    1.20        0.00
GET      /product/66VCHSJNUP                                                               40     0(0.00%) |      9       8      11     10 |    0.90        0.00
GET      /product/6E92ZMYYFZ                                                               33     0(0.00%) |      9       7      10     10 |    1.00        0.00
GET      /product/9SIQT8TOJO                                                               34     0(0.00%) |     10       8      52     10 |    1.20        0.00
GET      /product/L9ECAV7KIM                                                               24     0(0.00%) |      9       8      10     10 |    0.00        0.00
GET      /product/LS4PSXUNUM                                                               39     0(0.00%) |      9       7      13     10 |    0.70        0.00
GET      /product/OLJCESPC7Z                                                               35     0(0.00%) |     11       8      48     10 |    1.30        0.00
POST     /setCurrency                                                                      46     0(0.00%) |     14      10      61     13 |    1.10        0.00
--------|----------------------------------------------------------------------------|-------|-------------|-------|-------|-------|-------|--------|-----------
         Aggregated                                                                       647     0(0.00%) |     13       7     157     10 |   14.60        0.00


========================================
TEST RESULTS SUMMARY
========================================
Cluster Information:
  Kubernetes Version: v1.33.5
  Provisioner: null
  Total Nodes: 9

Calico Configuration:
  Dataplane Mode: Nftables
  Encapsulation: IPIP
  BGP Enabled: Enabled

Cluster Scale:
  Total NetworkPolicies: 1200
  Total Services: 1033
  Pods on target node: 608

Performance:
  Calico-node startup time: 36s
========================================

âœ… SUCCESS: calico-node-v9sxw startup time is within the acceptable range (36 seconds < 60s)
Stream closed EOF for default/calico-test-run-600-pods-per-node-nftables-c7c8v (tester)
